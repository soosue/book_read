# 10. 스키마 레지스트리

db 스키마와 같은 거임. 테이블 명세 등으로 오류를 줄일 수 있음.

## 10.1 스키마의 개념과 유용성

스키마 만드려면 귀찮음. 하지만 이후가 편리함.

## 10.2 카프카와 스키마 레지스트리

스키마 레지스트리라는 독립된 어플리케이션이 있음.

해당 스키마 레지스트리에게 스키마를 등록하면,

스키마 레지스트리는 카프카 서버에 스키마를 토픽형태로 저장함(순서 중요해서 파티션 1)

프로듀서는 스키마 등록 응답 온 스키마 id를 이용해 메시지와 함께 카프카에 메시지 생성

컨슈머는 읽기 전에 스키마 레지스트리에서 스키마를 읽고 카프카에서 이에 맞게 메시지를 읽음

에이브로 : 오픈소스 직렬화 시스템, 빠른 바이너리 데이터 포맷 지원, JSON형태의 스키마를 정의 가능.

## 10.3 스키마 레지스트리 실습

스키마 레지스트리 어플리케이션 설치 해야함. _이중화 하도록 마스터, 슬레이브_

스키마 레지스트리에 API 요청 가능. 스키마나 호환레벨 등등

subject가 무엇인가?

컨슈머도 스키마 id로 데이터를 읽어온다.

파이썬에서 프로듀서와 컨슈머에 왜 스키마를 정의하는가?

그렇다면 결국 스키마를 양쪽에서 의사소통해야하는 것이 아닌가?

## 10.4 스키마 레지스트리 호환성

BACKWARD : 컨슈머 -> 프로듀서 순으로 스키마 업데이트, 프로듀서가 버전 낮아도 됨

FORWARD : 프로듀서 -> 컨슈머 순으로 스키마 업데이트, 컨슈머가 버전 낮아도 됨

FULL : 스키마 업데이트 순서 상관 없음, 버전 2로 1,3 가능?

컨슈머 기준임.

변경 허용 항목이 왜 다를까?

진화하는 스키마를 지원하는 호환성 동작이 아니다? 무슨 말일까?
